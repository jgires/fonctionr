<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fonctionr">
<title>Overview of functionr functions • fonctionr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview of functionr functions">
<meta property="og:description" content="fonctionr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fonctionr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.12</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/fonctionr_functions.html">Présentation des fonctions</a>
    <a class="dropdown-item" href="../articles/fonctionr_arguments.html">Présentation des arguments</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/changelog.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jgires/fonctionr">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Overview of functionr functions</h1>
            
      
      
      <div class="d-none name"><code>fonctionr_functions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction-lobjectif-général-du-package-et-des-différentes-fonctions">Introduction : l’objectif général du package et des différentes
fonctions<a class="anchor" aria-label="anchor" href="#introduction-lobjectif-g%C3%A9n%C3%A9ral-du-package-et-des-diff%C3%A9rentes-fonctions"></a>
</h2>
<p>L’objectif de <code>fonctionr</code> est de faciliter grandement
l’analyse des données issues de sondages complexes, en particulier pour
la description de variables et le croisement bivariés.</p>
<p>Plusieurs package permettent traiter des données issues de sondages
complexes, c’est en particulier le cas de <code>survey</code> qui permet
de réaliser des analyses de estimations sur base de ce type de données
et de <code>srvyr</code> qui permet d’appliquer les verbes de
<code>dplyr</code> à des sondages complexes, mais aucun de ces deux
packages ne permet de réaliser des graphiques prêts à la publications,
et ils ne permettent pas de réaliser dans une seule fonction à la fois
des estimations d’indicateurs et des tests statistiques.</p>
<p><code>fonctionr</code> se base sur ces deux packages et sur
<code>ggplot2</code> pour faciliter grandement le travail du chercheur
en produisant directement en une seule fonction (pour chaque type de
variable ou de croisement entre variable) : un tableau de résultat avec
les indicateurs, les effectifs et leurs intervalles de confiance ; un
graphique prêt à être publié et le plus souvent un test statistique le
plus approprié au croisement étudié. Il est aussi possible de
directement exporter ces trois résultats dans un fichier xlsx.</p>
<p>La suite de ce manuel se déroule de la manière suivante. Dans un
premier temps on décrira les différentes fonctions, ce qu’elles
produisent et dans quels cas elles peuvent être utilisées. Dans un
deuxième temps, on présente un tableau récapitulatif des arguments. De
nombreux arguments revenant dans plusieurs fonctions, il est plus facile
de présenter la structure globale de ceux-ci que de se répéter dans
chaque fonction. Les arguments peuvent aussi être classés en différents
type, ce qui permet d’aborder successivement certaines. Ainsi, nous
aborderons successivement :</p>
<ul>
<li><p>la question du type de base de données utilisées;</p></li>
<li><p>les arguments obligatoires qui reprennent, par exemple les
variables décrites;</p></li>
<li><p>Les arguments facultatifs mais qui ont une influence sur les
calculs, par exemple la possibilité d’introduire des facettes ou de
filtrer les données</p></li>
<li><p>Les arguments esthétiques qui influencent uniquement le
graphique, par exemple les polices, les couleurs ou les légendes à
insérer dans le graphique.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="lobjectif-des-différentes-fonctions">L’objectif des différentes fonctions<a class="anchor" aria-label="anchor" href="#lobjectif-des-diff%C3%A9rentes-fonctions"></a>
</h2>
<p>La plupart des fonctions permettent, à partir de données issues d’un
sondage complexe ou simple, de produire une liste comprenant un
graphique, un tableau de d’indicateurs et les résultat d’un texte
statistique.</p>
<ul>
<li><p>Le graphique “graph” permet une visualisation des indicateurs
avec des intervalle de confiance. Il s’agit d’un objet de ggplot2 qui
peut donc aussi être modifié par la suite. Le graphique se veut
suffisamment finalisée pour être directement utilisable dans une
publication.</p></li>
<li><p>Le tableau “tab” reprend les chiffres sur base desquels le
graphique est construit. Les différentes colonnes reprennent
généralement le nom de l’indicateur, de la modalité et des éventuelles
facettes, les valeurs des indicateurs, leurs bornes d’intervalle de
confiance, le nombre de personnes dans l’échantillon dans chaque
catégorie, l’estimation du nombre de personnes dans la population dans
chaque catégorie et les bornes de l’intervalle de confiance de cette
estimation.</p></li>
<li><p>Le résultat d’un test statistique quand il y en a un qui est
pertinent.</p></li>
</ul>
<p>La plupart des fonction permettent aussi d’exporter directement ces
trois résultats dans un format excell.</p>
<p>Dans la suite de cette partie, nous pass fonctions en indiquant quels
sont les objectifs de chaque fonction et leurs spécificité.</p>
<div class="section level3">
<h3 id="distrib_discrete-et-distrib_d">
<code>distrib_discrete()</code> et <code>distrib_d()</code><a class="anchor" aria-label="anchor" href="#distrib_discrete-et-distrib_d"></a>
</h3>
<p><code><a href="../reference/distrib_discrete.html">distrib_discrete()</a></code>, avec <code><a href="../reference/distrib_discrete.html">distrib_d()</a></code> comme
alias, calcule la distribution de la fréquence des différentes modalités
d’une variables qualitative.</p>
<p>Dans l’exemple ci-dessous<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Précisons que dans cet exemple simple, il n’y a pas de
plan de sondage qui est mentionné. Seule la variable de pondération est
introduite. Nous aborderons ce point ultérieurement.&lt;/p&gt;"><sup>1</sup></a>, la fonction <code><a href="../reference/distrib_discrete.html">distrib_d()</a></code>
décrit la distribution des différents statuts socio-économiques
(variable pl030_rec) dans le dataframe eusilc, avec une le poids
rb050.</p>
<ul>
<li><p>Le tableau “tab” reprend les chiffres sur base desquels le
graphique est construit. Il comprend les colonnes suivantes : le nom de
la modalité (pl030_rec), l’estimation de la proportion de la population
appartenant à la modalité (prop), les bornes inférieure (prop_low) et
supérieure (prop_upp) de l’intervalle de confiance de cette estimation à
un niveau de confiance de 95%, le nombre de personnes dans l’échantillon
appartenant à la modalité (n_sample), l’estimation du nombre de
personnes dans la population appartenant à la modalité (n_weighted), et
les bornes inférieure (n_weighted_low) et supérieure (n_weighted_upp) de
l’intervalle de confiance de cette estimation à un niveau de confiance
de 95%.</p></li>
<li><p>Le résultat du test statistique “test.stat”. Il s’ait du khi2
d’adéquation. Ce test est réalisé avec comme hypothèse nulle, la
répartition de la population selon le vecteur mentionné dans l’argument
probs, c’est-à-dire, ici, 20% de travailleurs à temps plein, 15% de
travailleurs à temps partiel, 10% de chômeurs, 10% d’étudiants, 25% de
pensionnés, 10% de personnes en incapacité permanente de travail et 10%
de personnes au foyer. Si aucun vecteur n’était mentionné dans probs,
aucun test n’aurait été effectué. Si le vecteur n’avait pas une somme de
1, il aurait été ajusté pour avoir une telle somme. Notons aussi que la
p valeur du test est aussi mentionnée sur le graphique.</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loading of data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">eusilc</span>, package <span class="op">=</span> <span class="st">"laeken"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Recoding eusilc$pl030 into eusilc$pl030_rec</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"1"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Working full time"</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"2"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Working part time"</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"3"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Unemployed"</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"4"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Student"</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"5"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Retired"</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"6"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Permanently disabled"</span></span>
<span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030_rec</span><span class="op">[</span><span class="va">eusilc</span><span class="op">$</span><span class="va">pl030</span> <span class="op">==</span> <span class="st">"7"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Fulfilling domestic tasks"</span></span>
<span></span>
<span><span class="co"># Computation, taking sample design into account</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">fonctionr</span><span class="op">)</span></span>
<span><span class="va">eusilc_dist_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/distrib_discrete.html">distrib_d</a></span><span class="op">(</span></span>
<span>data <span class="op">=</span> <span class="va">eusilc</span>,</span>
<span>weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>quali_var <span class="op">=</span> <span class="va">pl030_rec</span>,</span>
<span>probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.2</span>,<span class="fl">.15</span>,<span class="fl">.1</span>,<span class="fl">.1</span>,<span class="fl">.25</span>,<span class="fl">.1</span>,<span class="fl">.1</span><span class="op">)</span>,</span>
<span>title <span class="op">=</span> <span class="st">"Distribution of socio-economic status"</span>,</span>
<span>subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="va">eusilc_dist_d</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_dist_d</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 8</span></span></span>
<span><span class="co">#&gt;   pl030_rec            prop prop_low prop_upp n_sample n_weighted n_weighted_low</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Fulfilling domest… 0.094<span style="text-decoration: underline;">8</span>   0.089<span style="text-decoration: underline;">7</span>   0.100      <span style="text-decoration: underline;">1</span>207    <span style="text-decoration: underline;">640</span>311.        <span style="text-decoration: underline;">605</span>407.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Permanently disab… 0.015<span style="text-decoration: underline;">5</span>   0.013<span style="text-decoration: underline;">3</span>   0.018<span style="text-decoration: underline;">0</span>      178    <span style="text-decoration: underline;">104</span>930.         <span style="text-decoration: underline;">89</span>217.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Retired            0.267    0.259    0.276      <span style="text-decoration: underline;">3</span>146   1<span style="text-decoration: underline;">806</span>954.       1<span style="text-decoration: underline;">750</span>021.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Student            0.058<span style="text-decoration: underline;">6</span>   0.054<span style="text-decoration: underline;">5</span>   0.062<span style="text-decoration: underline;">9</span>      736    <span style="text-decoration: underline;">395</span>829.        <span style="text-decoration: underline;">367</span>611.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Unemployed         0.044<span style="text-decoration: underline;">9</span>   0.041<span style="text-decoration: underline;">1</span>   0.048<span style="text-decoration: underline;">9</span>      518    <span style="text-decoration: underline;">303</span>252.        <span style="text-decoration: underline;">277</span>166.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Working full time  0.425    0.416    0.434      <span style="text-decoration: underline;">5</span>162   2<span style="text-decoration: underline;">869</span>868.       2<span style="text-decoration: underline;">805</span>298.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Working part time  0.094<span style="text-decoration: underline;">1</span>   0.089<span style="text-decoration: underline;">0</span>   0.099<span style="text-decoration: underline;">5</span>     <span style="text-decoration: underline;">1</span>160    <span style="text-decoration: underline;">636</span>121.        <span style="text-decoration: underline;">600</span>495.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: n_weighted_upp &lt;dbl&gt;</span></span></span>
<span><span class="va">eusilc_dist_d</span><span class="op">$</span><span class="va">test.stat</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Design-based chi-squared test for given probabilities</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  ~pl030_rec</span></span>
<span><span class="co">#&gt; X-squared = 11462652, scale = 1300.5577, df = 2.9068, p-value &lt; 2.2e-16</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="distrib_group_discrete-et-distrib_group_d">
<code>distrib_group_discrete()</code> et
<code>distrib_group_d()</code><a class="anchor" aria-label="anchor" href="#distrib_group_discrete-et-distrib_group_d"></a>
</h3>
<p><code><a href="../reference/distrib_group_discrete.html">distrib_group_discrete()</a></code>, avec
<code><a href="../reference/distrib_group_discrete.html">distrib_group_d()</a></code> comme alias, calcule la distribution de
la fréquence des différentes modalités d’une variables qualitative selon
une autre variable qualitative, que l’on peut considérer comme des
groupes. Par rapport aux autres fonctions, faute de représentation
adéquate, les intervalles de confiance ne sont pas indiqués sur le
graphique. Le test statistique repris est celui du khi2 de Pearson avec
l’ajustement de Rao &amp; Scott. Ce test est réalisé avec comme
hypothèse nulle, le fait que les deux variables qualitatives (d’intérêt
et de groupe) soient statistiquement indépendantes.</p>
<p>L’exemple ci-dessous montre la distribution des fréquences des
différents statuts socio-économiques (pl030_rec) selon la nationalité
(pb220a).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_dist_group_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/distrib_group_discrete.html">distrib_group_d</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                                 weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                                 group <span class="op">=</span> <span class="va">pb220a</span>,</span>
<span>                                 quali_var <span class="op">=</span> <span class="va">pl030_rec</span>,</span>
<span>                                 title <span class="op">=</span> <span class="st">"Distribution of socio-economic status according to nationality"</span>,</span>
<span>                                 subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span>                                 <span class="op">)</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="va">eusilc_dist_group_d</span><span class="op">$</span><span class="va">graph</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing missing values (`geom_text()`).</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_dist_group_d</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 21 × 9</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   pb220a [3]</span></span></span>
<span><span class="co">#&gt;    pb220a pl030_rec    prop prop_low prop_upp n_sample n_weighted n_weighted_low</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AT     Fulfillin… 0.089<span style="text-decoration: underline;">0</span>  0.083<span style="text-decoration: underline;">8</span>    0.094<span style="text-decoration: underline;">4</span>     <span style="text-decoration: underline;">1</span>036    <span style="text-decoration: underline;">548</span>489.        <span style="text-decoration: underline;">516</span>023.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> AT     Permanent… 0.011<span style="text-decoration: underline;">9</span>  0.009<span style="text-decoration: underline;">86</span>   0.014<span style="text-decoration: underline;">2</span>      125     <span style="text-decoration: underline;">73</span>270.         <span style="text-decoration: underline;">60</span>135.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> AT     Retired    0.285   0.276     0.293      <span style="text-decoration: underline;">3</span>055   1<span style="text-decoration: underline;">754</span>654.       1<span style="text-decoration: underline;">698</span>342.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> AT     Student    0.060<span style="text-decoration: underline;">2</span>  0.055<span style="text-decoration: underline;">9</span>    0.064<span style="text-decoration: underline;">8</span>      693    <span style="text-decoration: underline;">371</span>222.        <span style="text-decoration: underline;">343</span>916.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> AT     Unemployed 0.038<span style="text-decoration: underline;">8</span>  0.035<span style="text-decoration: underline;">1</span>    0.042<span style="text-decoration: underline;">7</span>      411    <span style="text-decoration: underline;">238</span>841.        <span style="text-decoration: underline;">215</span>672.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> AT     Working f… 0.421   0.412     0.431      <span style="text-decoration: underline;">4</span>689   2<span style="text-decoration: underline;">595</span>137.       2<span style="text-decoration: underline;">532</span>480.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> AT     Working p… 0.094<span style="text-decoration: underline;">2</span>  0.088<span style="text-decoration: underline;">8</span>    0.099<span style="text-decoration: underline;">8</span>     <span style="text-decoration: underline;">1</span>064    <span style="text-decoration: underline;">580</span>514.        <span style="text-decoration: underline;">546</span>451.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> EU     Fulfillin… 0.124   0.088<span style="text-decoration: underline;">7</span>    0.166        38     <span style="text-decoration: underline;">20</span>343.         <span style="text-decoration: underline;">13</span>851.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> EU     Permanent… 0.049<span style="text-decoration: underline;">8</span>  0.028<span style="text-decoration: underline;">0</span>    0.081<span style="text-decoration: underline;">1</span>       15      <span style="text-decoration: underline;">8</span>186.          <span style="text-decoration: underline;">4</span>019.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> EU     Retired    0.155   0.115     0.202        45     <span style="text-decoration: underline;">25</span>429.         <span style="text-decoration: underline;">17</span>928.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: n_weighted_upp &lt;dbl&gt;</span></span></span>
<span><span class="va">eusilc_dist_group_d</span><span class="op">$</span><span class="va">test.stat</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Pearson's X^2: Rao &amp; Scott adjustment</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  NextMethod()</span></span>
<span><span class="co">#&gt; F = 32.8, ndf = 11.957, ddf = 144750.034, p-value &lt; 2.2e-16</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="prop_group">
<code>prop_group()</code><a class="anchor" aria-label="anchor" href="#prop_group"></a>
</h3>
<p><code><a href="../reference/prop_group.html">prop_group()</a></code> compare la distribution d’une variable
dichotomitique (c’est-à-dire une proportion) selon une variable
qualitative qu’on peut considérer comme des groupes.</p>
<p>Par rapport aux autres fonctions, le graphique et le tableau
contiennent une modalité “Total” qui reprend l’estimation de la
proportion pour l’ensemble de la population de référence. Dans le
tableau, on retrouve tant l’estimation du nombre de personnes dans la
population pour lesquelles le critère de proportion est vérifié
(n_true_weighted) accompagné de ses bornes inférieure
(n_true_weighted_low) et supérieure (n_true_weighted_upp) de
l’intervalle de confiance à un niveau de confiance de 95% que
l’estimation du nombre total de personnes dans la population pour
lesquelles les données sont valides<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Les personnes exclues, parce que, par exemple, la
variable dichotomique prend une valeur de NA et que l’on a décidé de ne
pas les prendre en compte, ne sont pas reprises dans n_tot_weighted de
manière à ce que le ratio entre n_true_weighted et n_tot_weighted soit
égal à prop.&lt;/p&gt;"><sup>2</sup></a> (n_tot_weighted) accompagné de ses bornes
inférieure (n_tot_weighted_low) et supérieure (n_tot_weighted_upp) de
l’intervalle de confiance.</p>
<p>Le test statistique repris est celui du khi2 de Pearson avec
l’ajustement de Rao &amp; Scott. Ce test est réalisé avec comme
hypothèse nulle, le fait que les deux variables qualitatives (la varible
dichotomique et de groupe) soient statistiquement indépendantes .</p>
<p>L’exemple ci-dessous compare la proportion d’individus qui
bénéficient d’une allocation de chômage (py090n &gt; 0) selon les
différents statuts socio-économiques (pl030_rec).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_prop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prop_group.html">prop_group</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                          group <span class="op">=</span> <span class="va">pl030_rec</span>,</span>
<span>                          prop_exp <span class="op">=</span> <span class="va">py090n</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                          weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                          title <span class="op">=</span> <span class="st">"% of ind. receiving unemployment benefits in their hh by soc.-eco. stat."</span>,</span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="co">#&gt; Variable(s) détectée(s) dans l'expression : py090n</span></span>
<span><span class="co">#&gt; 0 lignes supprimées avec valeur(s) manquante(s) pour le(s) variable(s) de l'expression</span></span>
<span><span class="va">eusilc_prop</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_prop</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 11</span></span></span>
<span><span class="co">#&gt;   pl030_rec                   prop prop_low prop_upp n_sample n_true_weighted</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Fulfilling domestic tasks 0.048<span style="text-decoration: underline;">5</span>   0.036<span style="text-decoration: underline;">9</span>   0.062<span style="text-decoration: underline;">5</span>     <span style="text-decoration: underline;">1</span>207          <span style="text-decoration: underline;">31</span>048.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Permanently disabled      0.209    0.152    0.278       178          <span style="text-decoration: underline;">21</span>975.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Retired                   0.017<span style="text-decoration: underline;">7</span>   0.013<span style="text-decoration: underline;">4</span>   0.022<span style="text-decoration: underline;">9</span>     <span style="text-decoration: underline;">3</span>146          <span style="text-decoration: underline;">31</span>988.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Student                   0.019<span style="text-decoration: underline;">4</span>   0.010<span style="text-decoration: underline;">6</span>   0.032<span style="text-decoration: underline;">4</span>      736           <span style="text-decoration: underline;">7</span>666.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Unemployed                0.732    0.691    0.770       518         <span style="text-decoration: underline;">221</span>878.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Working full time         0.081<span style="text-decoration: underline;">8</span>   0.074<span style="text-decoration: underline;">3</span>   0.089<span style="text-decoration: underline;">7</span>     <span style="text-decoration: underline;">5</span>162         <span style="text-decoration: underline;">234</span>629.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Working part time         0.110    0.092<span style="text-decoration: underline;">1</span>   0.130      <span style="text-decoration: underline;">1</span>160          <span style="text-decoration: underline;">69</span>869.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Total                     0.091<span style="text-decoration: underline;">6</span>   0.086<span style="text-decoration: underline;">4</span>   0.097<span style="text-decoration: underline;">0</span>    <span style="text-decoration: underline;">12</span>107         <span style="text-decoration: underline;">619</span>054.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: n_true_weighted_low &lt;dbl&gt;, n_true_weighted_upp &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   n_tot_weighted &lt;dbl&gt;, n_tot_weighted_low &lt;dbl&gt;, n_tot_weighted_upp &lt;dbl&gt;</span></span></span>
<span><span class="va">eusilc_prop</span><span class="op">$</span><span class="va">test.stat</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Pearson's X^2: Rao &amp; Scott adjustment</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  NextMethod()</span></span>
<span><span class="co">#&gt; F = 485.82, ndf = 5.9943, ddf = 72567.0400, p-value &lt; 2.2e-16</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="central_group-mean_group-et-median_group">
<code>central_group()</code>, <code>mean_group()</code> et
<code>median_group()</code><a class="anchor" aria-label="anchor" href="#central_group-mean_group-et-median_group"></a>
</h3>
<p><code><a href="../reference/central_group.html">central_group()</a></code> compare la valeur centrale d’une
variable quantitative selon une variable qualitative qu’on peut
considérer comme des groupes. Deux valeurs centrales sont possibles : la
moyenne (quand l’argument type = “mean” ou pour l’alias
<code><a href="../reference/central_group.html">mean_group()</a></code>) et la médiane (quand l’argument type =
“median” ou pour l’alias <code><a href="../reference/central_group.html">median_group()</a></code>).</p>
<p>Pour <code><a href="../reference/central_group.html">mean_group()</a></code>, le test statistique effectué est un
test de Wald<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Voir : &lt;a href="https://stackoverflow.com/questions/72843411/one-way-anova-using-the-survey-package-in-r" class="external-link uri"&gt;https://stackoverflow.com/questions/72843411/one-way-anova-using-the-survey-package-in-r&lt;/a&gt;&lt;/p&gt;'><sup>3</sup></a>. Ce test est réalisé avec comme hypothèse
nulle, le fait que les coefficients d’une régression linéaire de la
variable qualitative (les groupes) sur la variable quantitative soient
nuls. Pour <code><a href="../reference/central_group.html">median_group()</a></code>, le test statistique effectué est
celui de Kruskal Wallis.</p>
<p>L’exemple ci-dessous compare le revenu équivalent mensuel moyen
(eqIncome / 12) selon les différents statuts socio-économiques
(pl030_rec).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">eusilc_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/central_group.html">mean_group</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                          group <span class="op">=</span> <span class="va">pl030_rec</span>,   </span>
<span>                          quanti_exp <span class="op">=</span> <span class="va">eqIncome</span>,</span>
<span>                          weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                          title <span class="op">=</span> <span class="st">"Mean of annual equivalised income in household by socio-economic status"</span>,</span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="co">#&gt; Variable(s) détectée(s) dans quanti_exp : eqIncome</span></span>
<span><span class="co">#&gt; 0 lignes supprimées avec valeur(s) manquante(s) pour le(s) variable(s) de quanti_exp</span></span>
<span><span class="va">eusilc_mean</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_mean</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 8</span></span></span>
<span><span class="co">#&gt;   pl030_rec            mean mean_low mean_upp n_sample n_weighted n_weighted_low</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Fulfilling domest… <span style="text-decoration: underline;">15</span>549.   <span style="text-decoration: underline;">15</span>058.   <span style="text-decoration: underline;">16</span>040.     <span style="text-decoration: underline;">1</span>207    <span style="text-decoration: underline;">640</span>311.        <span style="text-decoration: underline;">605</span>407.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Permanently disab… <span style="text-decoration: underline;">15</span>962.   <span style="text-decoration: underline;">14</span>475.   <span style="text-decoration: underline;">17</span>450.      178    <span style="text-decoration: underline;">104</span>930.         <span style="text-decoration: underline;">89</span>217.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Retired            <span style="text-decoration: underline;">20</span>635.   <span style="text-decoration: underline;">20</span>254.   <span style="text-decoration: underline;">21</span>016.     <span style="text-decoration: underline;">3</span>146   1<span style="text-decoration: underline;">806</span>954.       1<span style="text-decoration: underline;">750</span>021.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Student            <span style="text-decoration: underline;">16</span>260.   <span style="text-decoration: underline;">15</span>548.   <span style="text-decoration: underline;">16</span>972.      736    <span style="text-decoration: underline;">395</span>829.        <span style="text-decoration: underline;">367</span>611.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Unemployed         <span style="text-decoration: underline;">17</span>474.   <span style="text-decoration: underline;">16</span>579.   <span style="text-decoration: underline;">18</span>369.      518    <span style="text-decoration: underline;">303</span>252.        <span style="text-decoration: underline;">277</span>166.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Working full time  <span style="text-decoration: underline;">22</span>741.   <span style="text-decoration: underline;">22</span>442.   <span style="text-decoration: underline;">23</span>040.     <span style="text-decoration: underline;">5</span>162   2<span style="text-decoration: underline;">869</span>868.       2<span style="text-decoration: underline;">805</span>298.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Working part time  <span style="text-decoration: underline;">19</span>089.   <span style="text-decoration: underline;">18</span>535.   <span style="text-decoration: underline;">19</span>643.     <span style="text-decoration: underline;">1</span>160    <span style="text-decoration: underline;">636</span>121.        <span style="text-decoration: underline;">600</span>495.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Total              <span style="text-decoration: underline;">20</span>431.   <span style="text-decoration: underline;">20</span>238.   <span style="text-decoration: underline;">20</span>625.    <span style="text-decoration: underline;">12</span>107   6<span style="text-decoration: underline;">757</span>264.       6<span style="text-decoration: underline;">702</span>060.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: n_weighted_upp &lt;dbl&gt;</span></span></span>
<span><span class="va">eusilc_mean</span><span class="op">$</span><span class="va">test.stat</span></span>
<span><span class="co">#&gt; Wald test for pl030_rec</span></span>
<span><span class="co">#&gt;  in svyglm(formula = fmla, design = data_W)</span></span>
<span><span class="co">#&gt; F =  137.4607  on  6  and  12100  df: p= &lt; 2.22e-16</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="many_val-many_prop-many_mean-et-many_median">
<code>many_val()</code>, <code>many_prop()</code>,
<code>many_mean()</code> et <code>many_median()</code><a class="anchor" aria-label="anchor" href="#many_val-many_prop-many_mean-et-many_median"></a>
</h3>
<p><code><a href="../reference/many_val.html">many_val()</a></code> calcule les proportions (quand l’argument
type = “prop” ou pour l’alias <code><a href="../reference/many_val.html">many_prop()</a></code>), moyennes (quand
l’argument type = “mean” ou pour l’alias <code><a href="../reference/many_val.html">many_mean()</a></code>) ou
médianes (quand l’argument type = “median” ou pour l’alias
<code><a href="../reference/many_val.html">many_median()</a></code>) simultanément pour plusieurs variables
différentes. Dans le tableau, pour <code><a href="../reference/many_val.html">many_prop()</a></code>, on
distingue l’estimation du nombre de personnes dans la population pour
lesquelles le critère de proportion est vérifié (n_true_weighted) de
l’estimation du nombre total de personnes dans la population pour
lesquelles les données sont valides (n_tot_weighted),comme pour
<code><a href="../reference/prop_group.html">prop_group()</a></code>. Pour des raisons évidentes, ces fonctions ne
calculent aucun test statistique.</p>
<p>L’exemple ci-dessous compare les revenus mensuels moyens de l’emploi
salarié, d’une activité d’indépendant et d’une allocation de chômage
dans la totalité de la population.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Computation, taking sample design into account</span></span>
<span><span class="va">eusilc_many_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/many_val.html">many_mean</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                              list_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">py010n</span>, <span class="va">py050n</span>, <span class="va">py090n</span><span class="op">)</span>,</span>
<span>                              list_vars_lab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"salaires"</span>,<span class="st">"revenus d'une activité indépendant"</span>,<span class="st">"allocation de chômage"</span><span class="op">)</span>,</span>
<span>                              weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                              unit <span class="op">=</span> <span class="st">"€"</span>,</span>
<span>                              title <span class="op">=</span> <span class="st">"Income from wage, independant worker and unemployement benefits"</span>,</span>
<span>subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Variable(s) entrées : py010n, py050n, py090n</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="va">eusilc_many_mean</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_many_mean</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 8</span></span></span>
<span><span class="co">#&gt;   list_col             mean mean_low mean_upp n_sample n_weighted n_weighted_low</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> salaires            <span style="text-decoration: underline;">9</span>159.    <span style="text-decoration: underline;">8</span>945.    <span style="text-decoration: underline;">9</span>373.    <span style="text-decoration: underline;">12</span>107   6<span style="text-decoration: underline;">757</span>264.       6<span style="text-decoration: underline;">702</span>061.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> revenus d'une acti… <span style="text-decoration: underline;">1</span>096.    <span style="text-decoration: underline;">1</span>002.    <span style="text-decoration: underline;">1</span>191.    <span style="text-decoration: underline;">12</span>107   6<span style="text-decoration: underline;">757</span>264.       6<span style="text-decoration: underline;">702</span>061.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> allocation de chôm…  426.     393.     459.    <span style="text-decoration: underline;">12</span>107   6<span style="text-decoration: underline;">757</span>264.       6<span style="text-decoration: underline;">702</span>061.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: n_weighted_upp &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="many_val_group-many_prop_group-many_mean_group-et-many_median_group">
<code>many_val_group()</code>, <code>many_prop_group()</code>,
<code>many_mean_group()</code> et <code>many_median_group()</code><a class="anchor" aria-label="anchor" href="#many_val_group-many_prop_group-many_mean_group-et-many_median_group"></a>
</h3>
<p><code><a href="../reference/many_val_group.html">many_val_group()</a></code> compare des proportions (quand
l’argument type = “prop” ou pour l’alias
<code><a href="../reference/many_val_group.html">many_prop_group()</a></code>), moyennes (quand l’argument type =
“mean” ou pour l’alias <code><a href="../reference/many_val_group.html">many_mean_group()</a></code>) ou médianes
(quand l’argument type = “median” ou pour l’alias
<code><a href="../reference/many_val_group.html">many_median_group()</a></code>) simultanément pour plusieurs variables
différentes et selon une variable qualitative qui peut être considérée
comme des groupes. Dans le tableau, pour <code><a href="../reference/many_val_group.html">many_prop_group()</a></code>,
on distingue l’estimation du nombre de personnes dans la population pour
lesquelles le critère de proportion est vérifié (n_true_weighted) de
l’estimation du nombre total de personnes dans la population pour
lesquelles les données sont valides (n_tot_weighted),comme pour
<code><a href="../reference/prop_group.html">prop_group()</a></code> et <code><a href="../reference/many_val.html">many_prop()</a></code>. Pour des raisons
évidentes, ces fonctions ne calculent également aucun test
statistique.</p>
<p>L’exemple ci-dessous compare les revenus mensuels moyens de l’emploi
salarié, d’une activité d’indépendant et d’une allocation de chômage des
femmes et des hommes.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Computation, taking sample design into account</span></span>
<span><span class="va">eusilc_many_mean_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/many_val_group.html">many_mean_group</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                                          group <span class="op">=</span> <span class="va">rb090</span>,</span>
<span>                                          list_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">py010n</span>, <span class="va">py050n</span>, <span class="va">py090n</span><span class="op">)</span>,</span>
<span>                                          list_vars_lab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"salaires"</span>,<span class="st">"revenus d'une activité indépendant"</span>,<span class="st">"allocation de chômage"</span><span class="op">)</span>,</span>
<span>                                          weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                                          unit <span class="op">=</span> <span class="st">"€"</span>,</span>
<span>                              title <span class="op">=</span> <span class="st">"Income from wage, independant worker and unemployement benefits by sex"</span>,</span>
<span>subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Variable(s) entrées : py010n, py050n, py090n</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="va">eusilc_many_mean_group</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_many_mean_group</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 9</span></span></span>
<span><span class="co">#&gt;   rb090  list_col      mean mean_low mean_upp n_sample n_weighted n_weighted_low</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> male   salaires    <span style="text-decoration: underline;">12</span>445.   <span style="text-decoration: underline;">12</span>098.   <span style="text-decoration: underline;">12</span>791.     <span style="text-decoration: underline;">5</span>844   3<span style="text-decoration: underline;">237</span>897.       3<span style="text-decoration: underline;">171</span>916.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> female salaires     <span style="text-decoration: underline;">6</span>136.    <span style="text-decoration: underline;">5</span>900.    <span style="text-decoration: underline;">6</span>372.     <span style="text-decoration: underline;">6</span>263   3<span style="text-decoration: underline;">519</span>368.       3<span style="text-decoration: underline;">451</span>545.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> male   revenus d'…  <span style="text-decoration: underline;">1</span>539.    <span style="text-decoration: underline;">1</span>368.    <span style="text-decoration: underline;">1</span>711.     <span style="text-decoration: underline;">5</span>844   3<span style="text-decoration: underline;">237</span>897.       3<span style="text-decoration: underline;">171</span>916.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> female revenus d'…   689.     600.     778.     <span style="text-decoration: underline;">6</span>263   3<span style="text-decoration: underline;">519</span>368.       3<span style="text-decoration: underline;">451</span>545.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> male   allocation…   420.     371.     468.     <span style="text-decoration: underline;">5</span>844   3<span style="text-decoration: underline;">237</span>897.       3<span style="text-decoration: underline;">171</span>916.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> female allocation…   431.     386.     476.     <span style="text-decoration: underline;">6</span>263   3<span style="text-decoration: underline;">519</span>368.       3<span style="text-decoration: underline;">451</span>545.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: n_weighted_upp &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="distrib_continuous-et-distrib_c">
<code>distrib_continuous()</code> et <code>distrib_c()</code><a class="anchor" aria-label="anchor" href="#distrib_continuous-et-distrib_c"></a>
</h3>
</div>
<div class="section level3">
<h3 id="distrib_group_continuous-et-distrib_group_c">
<code>distrib_group_continuous()</code> et
<code>distrib_group_c()</code><a class="anchor" aria-label="anchor" href="#distrib_group_continuous-et-distrib_group_c"></a>
</h3>
</div>
<div class="section level3">
<h3 id="theme_fonctionr">
<code>theme_fonctionr()</code><a class="anchor" aria-label="anchor" href="#theme_fonctionr"></a>
</h3>
<p><code><a href="../reference/theme_fonctionr.html">theme_fonctionr()</a></code> est une fonction qui permet
d’appliquer le thème de <code>fonctionr</code> à un objet de
<code>ggplot2</code>. Cette fonction a un intérêt si l’on veut par
exemple, uniformiser l’esthétique de tous les graphiques pour une
publication.</p>
</div>
<div class="section level3">
<h3 id="esth_graph">
<code>esth_graph()</code><a class="anchor" aria-label="anchor" href="#esth_graph"></a>
</h3>
<p><code><a href="../reference/esth_graph.html">esth_graph()</a></code> est une fonction qui permet aisément de
construire une graphique similaire à ceux produit par les autres
fonction mais directement à partir d’une tableau de résultats calculé
précédemment. Cette fonction a un intérêt si l’on veut appliquer
l’esthétique graphique de <code>fonctionr</code> mais à des indicateurs
qui ne sont pas calculés par une autre fonction de
<code>fonctionr</code>. Par rapport à <code><a href="../reference/theme_fonctionr.html">theme_fonctionr()</a></code>,
<code><a href="../reference/esth_graph.html">esth_graph()</a></code> permet aisément d’intégrer plusieurs éléments
que l’on retrouve dans d’autres graphiques produits par
<code>fonctionr</code> : valeurs de l’indicateur, bornes d’intervalle de
confiance, nombres d’individus dans l’échantillon. La logique
d’<code><a href="../reference/esth_graph.html">esth_graph()</a></code> est aussi différente de celle de
<code><a href="../reference/theme_fonctionr.html">theme_fonctionr()</a></code> : la première fonction produit un
graphique à partir d’une table, alors que la seconde applique un thème à
un graphique existant.</p>
</div>
<div class="section level3">
<h3 id="pivot_longer_survey">
<code>pivot_longer_survey()</code><a class="anchor" aria-label="anchor" href="#pivot_longer_survey"></a>
</h3>
</div>
</div>
<div class="section level2">
<h2 id="le-tableau-récapitulait-des-arguments">Le tableau récapitulait des arguments<a class="anchor" aria-label="anchor" href="#le-tableau-r%C3%A9capitulait-des-arguments"></a>
</h2>
<p>Comme nous l’avons vu, la majorité des fonctions de
<code>fonctionr</code> se ressemblent. La plupart des arguments se
retrouvent dans plusieurs fonctions. Le tableau ci-dessous reprend la
totalité des argument en indiquant chaque fois pour quelle(s)
fonction(s) il est utilisé. L’ordre repris est celui des fonctions et
les couleurs regroupent les arguments selon leur “catégorie”. Cette
dernière a une visée pédagogique et regroupe ensemble des arguments dont
le rôle est similaire. Dans la suite, nous aborderons successivement les
arguments liés à la base de donnée utilisée, les arguments
indispensables qui doivent obligatoirement être mentionnés, les
arguments clés (c’est-à-dire pas obligatoire mais ayant une influence
sur les résultats) et les arguments esthétiques - qui influencent le
graphique et que l’on peut diviser en cinq sous-catégories : les
arguments esthétiques de base (qui ont une influence centrale sur le
graphique), les arguments esthétiques graphiques (barres et couleurs),
les arguments esthétiques de chiffres (unités, décimales, etc.), les
arguments esthétiques de lettres (police, etc.), les arguments de
labels. Un dernier argument, traitant de l’export de l’objet créé par
les fonctions de <code>fonctionr</code> sera aussi abordé.</p>
<p>TABLEAU</p>
</div>
<div class="section level2">
<h2 id="les-arguments-liés-à-la-base-de-données-utilisée">Les arguments liés à la base de données utilisée<a class="anchor" aria-label="anchor" href="#les-arguments-li%C3%A9s-%C3%A0-la-base-de-donn%C3%A9es-utilis%C3%A9e"></a>
</h2>
<p>data est l’argument le plus important car il indique la base de
donnée à utiliser. Comme l’objectif du package est de permettre une
analyse des sondages complexe, il peut s’agir d’un objet
<code>survey</code> ou d’un objet <code>srvyr</code>, qui contiennent
les différentes informations sur le plan de sondage (poids, strates,
PSU…). Il est aussi possible que l’objet <code>survey</code> ou
<code>srvyr</code> soit un objet avec avec des <em>replicate
weights</em> pour utiliser les méthodes de rééchantillonnage pour
estimer la variance d’échantillonnage.</p>
<p>Il est également possible que data soit un dataframe. Dans ce cas,
les fonctions font l’hypothèse d’un sondage aléatoire simple. Ainsi,
<code>fonctionr</code> peut être utilisé pour l’analyse des sondages
complexe mais aussi des sondages aléatoires simple.
<code>fonctionr</code> peut aussi créer un objet de sondage complexe à
partit d’un dataframe. Dans ce cas, le dataframe doit être indiqué dans
data et les autres arguments (poids, strates, etc.) doivent être
indiquées dans l’argument … qui se trouve plus loin. L’argument … ne se
trouve pas directement après l’argument data pour permettre d’indiquer
plusieurs arguments (group, prop_exp, facet…) sans devoir mentionner
explicitement le nom de l’argument (par exemple ne pas devoir écrire
systématiquement group = db040). Cette manière de procéder fonctionne
pour les sondages complexes classiques mais pas pour les sondages
complexes intégrant des <em>replicate weights</em>. Si l’ont veut
intégrer des <em>replicates weights</em>, il est nécessaire de créer
d’abord un objet <code>survey</code> ou <code>srvyr</code> et d’utiliser
cet objet dans <code>fonctionr</code>.</p>
<p>Pour la fonction <code><a href="../reference/esth_graph.html">esth_graph()</a></code>, il n’y a pas d’argument
data, mais un argument tab qui doit correspondre à la table avec les
indicateurs. Il s’appelle tab car il est similaire à l’objet tab produit
par la plupart des fonctions de <code>fonctionr</code>.</p>
<p>Les exemples ci-dessous montre trois manière différentes de prendre
en compte un même plan de sondage : en l’indiquant directement dans la
fonction de <code>fonctionr</code>, en créant d’abord un objet
<code>survey</code> et en créant d’abord un objet
<code>srvyr</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">### Un exemple où on indique directement dans la fonction de fonctionr les différents éléments du plan de sondage</span></span>
<span><span class="va">eusilc_prop_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prop_group.html">prop_group</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                          group <span class="op">=</span> <span class="va">pl030_rec</span>,</span>
<span>                          prop_exp <span class="op">=</span> <span class="va">py090n</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                          strata <span class="op">=</span> <span class="va">db040</span>,</span>
<span>                          ids <span class="op">=</span> <span class="va">db030</span>,</span>
<span>                          weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                          title <span class="op">=</span> <span class="st">"% of ind. receiving unemployment benefits in their hh by soc.-eco. stat."</span>,</span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  db030, strata:  db040, weights:  rb050</span></span>
<span><span class="co">#&gt; Variable(s) détectée(s) dans l'expression : py090n</span></span>
<span><span class="co">#&gt; 0 lignes supprimées avec valeur(s) manquante(s) pour le(s) variable(s) de l'expression</span></span>
<span><span class="va">eusilc_prop_1</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">### Un exemple où utilise un objet survey</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://r-survey.r-forge.r-project.org/survey/" class="external-link">survey</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: grid</span></span>
<span><span class="co">#&gt; Loading required package: Matrix</span></span>
<span><span class="co">#&gt; Loading required package: survival</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'survey'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:graphics':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     dotchart</span></span>
<span></span>
<span><span class="va">eusilc_survey</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign</a></span><span class="op">(</span>id <span class="op">=</span> <span class="op">~</span><span class="va">db030</span>,strat<span class="op">=</span><span class="op">~</span><span class="va">db040</span>, weight<span class="op">=</span> <span class="op">~</span><span class="va">rb050</span>, data <span class="op">=</span> <span class="va">eusilc</span><span class="op">)</span></span>
<span></span>
<span><span class="va">eusilc_prop_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prop_group.html">prop_group</a></span><span class="op">(</span><span class="va">eusilc_survey</span>,</span>
<span>                            group <span class="op">=</span> <span class="va">pl030_rec</span>,</span>
<span>                            prop_exp <span class="op">=</span> <span class="va">py090n</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                            title <span class="op">=</span> <span class="st">"% of ind. receiving unemployment benefits in their hh by soc.-eco. stat."</span>,</span>
<span>                            subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: objet survey</span></span>
<span><span class="co">#&gt; Sampling design -&gt; :  , :</span></span>
<span><span class="co">#&gt; Variable(s) détectée(s) dans l'expression : py090n</span></span>
<span><span class="co">#&gt; 0 lignes supprimées avec valeur(s) manquante(s) pour le(s) variable(s) de l'expression</span></span>
<span><span class="va">eusilc_prop_2</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-8-2.png" width="700"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co">### Un exemple où utilise un objet srvyr</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://gdfe.co/srvyr/" class="external-link">srvyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'srvyr'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="va">eusilc_srvyr</span><span class="op">&lt;-</span><span class="fu"><a href="http://gdfe.co/srvyr/reference/as_survey_design.html" class="external-link">as_survey_design</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                               ids <span class="op">=</span> <span class="va">db030</span>,</span>
<span>                               strata <span class="op">=</span> <span class="va">db040</span>,</span>
<span>                               weights <span class="op">=</span> <span class="va">rb050</span><span class="op">)</span></span>
<span><span class="va">eusilc_prop_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prop_group.html">prop_group</a></span><span class="op">(</span><span class="va">eusilc_srvyr</span>,</span>
<span>                            group <span class="op">=</span> <span class="va">pl030_rec</span>,</span>
<span>                            prop_exp <span class="op">=</span> <span class="va">py090n</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                            title <span class="op">=</span> <span class="st">"% of ind. receiving unemployment benefits in their hh by soc.-eco. stat."</span>,</span>
<span>                            subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: objet srvyr</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  db030, strata:  db040, weights:  rb050</span></span>
<span><span class="co">#&gt; Variable(s) détectée(s) dans l'expression : py090n</span></span>
<span><span class="co">#&gt; 0 lignes supprimées avec valeur(s) manquante(s) pour le(s) variable(s) de l'expression</span></span>
<span><span class="va">eusilc_prop_3</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-8-3.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="les-arguments-indispensables">Les arguments indispensables<a class="anchor" aria-label="anchor" href="#les-arguments-indispensables"></a>
</h2>
<p>Les arguments indispensable sont des arguments qui sont nécessaire au
bon fonctionnement de la fonction et qui ne peuvent prendre aucune
valeur par défaut.</p>
<p>Ces arguments sont principalement de différents types : variables
qualitatives, expressions ou listes de variables.</p>
<ul>
<li><p>group et quali_var sont des variables qualitatives. Les variables
indiquées pour ces arguments sont ainsi transformées en facteurs pour
leur usage dans la fonction.</p></li>
<li><p>prop_exp et quanti_exp sont des expressions. C’est-à-dire que ces
arguments peuvent être des variables (un variable binaire 0-1 pour
prop_exp et une variable numérique pour quanti_exp) ou une expression
qui produit une variable (binaire pour prop_exp et quantitative pour
quanti_exp). Ainsi, il n’est pas nécessaire de préparer à l’avance la
variable binaire ou la quantitative, elle peut être calculée directement
dans les fonctions <code><a href="../reference/prop_group.html">prop_group()</a></code> et
<code><a href="../reference/central_group.html">central_group()</a></code>. Précisons que seuls les variables de la
base de données et les valeurs numérique sont autorisées dans les
expressions, les objets extérieurs à la table (par exemple un seuil
contenu dans un objet) ne sont pas reconnu par ces fonctions. Dans
<code>fonctionr</code>, tous les arguments qui terminent par _exp sont
des expressions.</p></li>
<li><p>list_vars doit être un vecteur reprenant l’ensemble des variables
reprises dans les fonctions <code><a href="../reference/many_val.html">many_val()</a></code> et
<code><a href="../reference/many_val_group.html">many_val_group()</a></code>. Pour <code><a href="../reference/many_val.html">many_prop()</a></code> et
<code><a href="../reference/many_val_group.html">many_prop_group()</a></code>, les variables doivent être binaires (il
aurait été trop compliqué d’introduire ici des expressions) et pour
<code><a href="../reference/many_val.html">many_mean()</a></code>, <code><a href="../reference/many_val_group.html">many_mean_group()</a></code>,
<code><a href="../reference/many_val.html">many_median()</a></code> et <code><a href="../reference/many_val_group.html">many_median_group()</a></code>, les
variables doivent être numériques.</p></li>
</ul>
<p>Juste après list_vars, il y a un argument esthétique de label des
noms des variables. Cet argument doit être un vecteur reprenant les noms
des variables telles que l’on souhaite qu’elles apparaissent dans le
tableau (tab) et le graphique (graph) produits par la fonction. Bien
qu’il ne s’agisse pas d’un argument indispensable, nous avons décidé de
le placer juste après list_vars pour faciliter l’utilisation.</p>
<p>L’argument type est utilisé pour les fonctions “alias”
<code><a href="../reference/central_group.html">mean_group()</a></code> et <code><a href="../reference/central_group.html">median_group()</a></code> ;
<code><a href="../reference/many_val.html">many_prop()</a></code>, <code><a href="../reference/many_val.html">many_mean()</a></code> et
<code><a href="../reference/many_val.html">many_median()</a></code> ; <code><a href="../reference/many_val_group.html">many_prop_group()</a></code>,
<code><a href="../reference/many_val_group.html">many_mean_group()</a></code> et <code><a href="../reference/many_val_group.html">many_median_group()</a></code> à
partir des fonctions respectives <code><a href="../reference/central_group.html">central_group()</a></code>,
<code><a href="../reference/many_val.html">many_val()</a></code> et <code><a href="../reference/many_val_group.html">many_val_group()</a></code>. Il ne doit pas
être utilisé par l’utilisateur s’il utilise les fonctions “alias”.</p>
<p>Pour <code><a href="../reference/esth_graph.html">esth_graph()</a></code>, les arguments var et value sont
obligatoires et ils indiquent respectivement les colonnes dans tab avec
nom de l’indicateur et sa valeur.</p>
<p>Dans l’exemple ci-dessous, on calcule directement le revenu
équivalent mensuel à partir de la variable de revenu annuel qu’on divise
par 12.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">eusilc_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/central_group.html">mean_group</a></span><span class="op">(</span><span class="va">eusilc</span>,</span>
<span>                          group <span class="op">=</span> <span class="va">pl030_rec</span>,   </span>
<span>                          quanti_exp <span class="op">=</span> <span class="va">eqIncome</span> <span class="op">/</span> <span class="fl">12</span>,</span>
<span>                          weights <span class="op">=</span> <span class="va">rb050</span>,</span>
<span>                          unit<span class="op">=</span> <span class="st">"€"</span>,</span>
<span>                          title <span class="op">=</span> <span class="st">"Mean of monthly equivalised income in household by socio-economic status"</span>,</span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Example with austrian SILC data from 'laeken' package"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Input: data.frame</span></span>
<span><span class="co">#&gt; Sampling design -&gt; ids:  `1`, weights:  rb050</span></span>
<span><span class="co">#&gt; Variable(s) détectée(s) dans quanti_exp : eqIncome</span></span>
<span><span class="co">#&gt; 0 lignes supprimées avec valeur(s) manquante(s) pour le(s) variable(s) de quanti_exp</span></span>
<span><span class="va">eusilc_mean</span><span class="op">$</span><span class="va">graph</span></span></code></pre></div>
<p><img src="fonctionr_functions_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eusilc_mean</span><span class="op">$</span><span class="va">tab</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 8</span></span></span>
<span><span class="co">#&gt;   pl030_rec            mean mean_low mean_upp n_sample n_weighted n_weighted_low</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Fulfilling domesti… <span style="text-decoration: underline;">1</span>296.    <span style="text-decoration: underline;">1</span>255.    <span style="text-decoration: underline;">1</span>337.     <span style="text-decoration: underline;">1</span>207    <span style="text-decoration: underline;">640</span>311.        <span style="text-decoration: underline;">605</span>407.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Permanently disabl… <span style="text-decoration: underline;">1</span>330.    <span style="text-decoration: underline;">1</span>206.    <span style="text-decoration: underline;">1</span>454.      178    <span style="text-decoration: underline;">104</span>930.         <span style="text-decoration: underline;">89</span>217.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Retired             <span style="text-decoration: underline;">1</span>720.    <span style="text-decoration: underline;">1</span>688.    <span style="text-decoration: underline;">1</span>751.     <span style="text-decoration: underline;">3</span>146   1<span style="text-decoration: underline;">806</span>954.       1<span style="text-decoration: underline;">750</span>021.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Student             <span style="text-decoration: underline;">1</span>355.    <span style="text-decoration: underline;">1</span>296.    <span style="text-decoration: underline;">1</span>414.      736    <span style="text-decoration: underline;">395</span>829.        <span style="text-decoration: underline;">367</span>611.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Unemployed          <span style="text-decoration: underline;">1</span>456.    <span style="text-decoration: underline;">1</span>382.    <span style="text-decoration: underline;">1</span>531.      518    <span style="text-decoration: underline;">303</span>252.        <span style="text-decoration: underline;">277</span>166.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Working full time   <span style="text-decoration: underline;">1</span>895.    <span style="text-decoration: underline;">1</span>870.    <span style="text-decoration: underline;">1</span>920.     <span style="text-decoration: underline;">5</span>162   2<span style="text-decoration: underline;">869</span>868.       2<span style="text-decoration: underline;">805</span>298.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Working part time   <span style="text-decoration: underline;">1</span>591.    <span style="text-decoration: underline;">1</span>545.    <span style="text-decoration: underline;">1</span>637.     <span style="text-decoration: underline;">1</span>160    <span style="text-decoration: underline;">636</span>121.        <span style="text-decoration: underline;">600</span>495.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Total               <span style="text-decoration: underline;">1</span>703.    <span style="text-decoration: underline;">1</span>686.    <span style="text-decoration: underline;">1</span>719.    <span style="text-decoration: underline;">12</span>107   6<span style="text-decoration: underline;">757</span>264.       6<span style="text-decoration: underline;">702</span>060.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: n_weighted_upp &lt;dbl&gt;</span></span></span>
<span><span class="va">eusilc_mean</span><span class="op">$</span><span class="va">test.stat</span></span>
<span><span class="co">#&gt; Wald test for pl030_rec</span></span>
<span><span class="co">#&gt;  in svyglm(formula = fmla, design = data_W)</span></span>
<span><span class="co">#&gt; F =  137.4607  on  6  and  12100  df: p= &lt; 2.22e-16</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="les-arguments-clés-pas-obligatoires-mais-influençant-les-résultats">Les arguments clés : pas obligatoires mais influençant les
résultats<a class="anchor" aria-label="anchor" href="#les-arguments-cl%C3%A9s-pas-obligatoires-mais-influen%C3%A7ant-les-r%C3%A9sultats"></a>
</h2>
<p>Les arguments clés sont des arguments qui ne sont pas indispensable
mais qui influencent les résultats. Ils ont une valeur par défaut,
souvent NULL. On y retrouve plusieurs types d’arguments.</p>
<ul>
<li><p>facet est une variable qualitative qui produit des facets dans la
table et le graphique. Comme group et quali_var, la variable indiquée
pour cet argument est transformée en facteur pour leur usage dans la
fonction. Par défaut, les facets ne sont pas produites.</p></li>
<li><p>filter_exp est une expression qui permet de filtrer les données
de manière à produire la table, le graphique et le test, le cas échéant,
sur une partie de l’échantillon. Comme il s’agit d’une expression, il
est possible de mettre en oeuvre des conditions de filtres complexe et
multiples, par exemple sélectionner uniquement les personnes âgées de
moins de 60 ans, dont le revenu mensuel est inférieur à 3000€ et qui
sont célibataires. Comme recommandé (REF), le filtrage des données est
réalisé après la production de l’objet srvyr par la fonction. Ici aussi,
seuls les variables de la base de données et les valeurs numérique sont
autorisées dans les expressions, pas les objets extérieurs à la table.
Par défaut, les données ne sont pas filtrées.</p></li>
<li><p>na.rm.group, na.rm.facet, na.rm.var indiquent la manière dont les
éventuels NA dans les variables de groupe, de facet et dans quali_var
sont traités. Si l’argument est TRUE, les NA seront retirés pour les
calculs. Si l’argument est FALSE, une modalité spécifique est créée pour
les NA. Dans ce cas, dans le graphique ils prennent toujours la couleur
gris (grey) dans le graphique, pour pointer leur spécificité. Dans le
cas où ils sont retirés, ils ne sont pas pris en compte pour estimer les
indicateurs totaux, le cas échéant. Par défaut, l’argument prend la
valeur FALSE, c’est-à-dire que les NA sont supprimés des
analyses.</p></li>
<li><p>na.prop indique la manière dont les éventuels NA sont dans les
variables introduites dans prop_exp sont traités. Si l’argument prend la
valeur “rm”, tous les NA présent dans au moins une des variable faisant
partie de prop_exp sont exclus avant de procéder aux calculs. De cette
manière la proportion est calculée uniquement sur les observations
“valides”. Dans ce cas, pour des raisons évidentes, il n’est pas
possible d’introduire des conditions avec la valeur NA dans prop_exp
(p. ex. on ne peut pas calculer la proportion de personnes dont le
statut professionnel est NA). Si l’argument prend la valeur “include”
les NA ne sont pas retirés avant de procéder aux calculs et la
proportion est calculée sur l’ensemble des observations, NA compris.
Cela peut être utile quand NA n’indique pas une valeur manquante mais
une situation spécifique. Par exemple, dans une variable mesurant les
points obtenu par des étudiants à un examen si le NA indique que
l’étudiant était absent, on peut vouloir calculer la proportion
d’étudiant ayant au moins 12/20 en conservant les absents au
dénominateur, ce qui est possible avec na.prop = “include”. Par défaut
na.prop prend la valeur “rm”. Précisons que pour central_group() et ses
alias mean_group() et median_group(), il n’y a pas d’argument permettant
de choisir le traitement des NA dans quanti_exp. Les observations
comprenant au moins un NA dans une variable indiquée dans quanti_exp
sont exclues des calculs, car il n’y a pas d’autres possibilité qui soit
pertinente.</p></li>
<li><p>na.vars indique la manière dont les NA doivent être traités dans
les différentes variables de many_val et many_val_group. Si l’argument
prend la valeur “rm”, les NA sont exclus séparément dans chaque
variable. Il en résulte que l’échantillon ne sera pas toujours le même
pour chacune des variables calculée, mais que l’on conserve un maximum
d’observations. Si l’argument prend la valeur “rm.all”, les observations
qui comprennent au moins un NA dans une des variables de list_vars sont
exclues. Cette manière de procéder exclut plus d’observation mais permet
d’avoir un échantillon identique pour toutes les variables. Par défaut
na.vars prend la valeur “rm”.</p></li>
<li><p>probs est un vecteur utilisé dans distrib_discrete() pour
indiquer la distribution des proportions dans chaque modalité reprise
dans l’hypothèse nulle sur base de laquelle le test du khi2 d’adéquation
est calculé. Par défaut ce vecteur vaut NULL et le test du khi2
d’adéquation n’est pas calculé.</p></li>
<li><p>prop_method est un argument qui permet de choisir le type de
correction pour l’estimation des intervalles de confiance d’une
proportion, notamment pour éviter d’avoir des bornes inférieures à 0 ou
supérieures à 1. Les valeurs peuvent prendre celles mentionnées dans <a href="https://search.r-project.org/CRAN/refmans/survey/html/svyciprop.html" class="external-link">l’argument
method de la fonction svyciprop() du package survey</a>. Par défaut,
c’est la méthode “beta” qui est utilisées.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="les-arguments-esthétiques">Les arguments esthétiques<a class="anchor" aria-label="anchor" href="#les-arguments-esth%C3%A9tiques"></a>
</h2>
<p>Les arguments esthétiques sont des arguments qui affectent uniquement
le graphique produit et pas la table, ni le test statistique. Pour des
raisons pédagogique, nous aborderons successivement les arguments
d’esthétique de base, d’esthétique graphique, d’esthétique des chiffres,
d’esthétique des lettres et les labels.</p>
<div class="section level3">
<h3 id="lesthétique-de-base">L’esthétique de base<a class="anchor" aria-label="anchor" href="#lesth%C3%A9tique-de-base"></a>
</h3>
<ul>
<li><p>reorder est un argument qui en prenant la valeur TRUE permet de
réordonner les barres selon leur valeur décroissante. Si reorder =
FALSE, les barres ne sont pas réordonnées et c’est l’ordre des levels de
la variable qui est utilisé pour ordonner les barre. La barre NA quand
elle existe (par exemple avec na.rm.group = FALSE) et la barre Total ne
sont jamais réordonnées et sont toujours positionnées dans le bas du
graphique. en cas de facet les barres sont réordonnées sur base de
chaque barre médiane. Par exemple, si l’on utilise des facet dans
prop_group(), on regarder pour chaque groupe quelle est la barre médiane
parmi les différentes et puis on va ordonner les groupes sur bases de
ces médianes. Par défaut, reorder prend la valeur de FALSE. reorder
n’est pas disponible dans distrib_group_discrete et many_val_group et
ses alias (many_prop_group, many_mean_group et many_median_group) car
pour ces variables, il y a plusieurs proportions ou indicateurs et il
est difficile de choisir sur lequel ou laquelle réordonner. Dans ce cas,
c’est l’ordre des levels des facteurs qui est utilisé.</p></li>
<li><p>position est un argument qui ne se trouve uniquement dans
many_val_group et qui peut prendre les valeurs de “dodge” et de “stack”.
Avec “dodge”, les barres de sont pas empilées. Avec “stack”, les barres
sont empilées dans chaque groupe, ce qui peut avoir un intérêt quand les
variables ont vocation à être additionnées, par exemple avec des revenus
selon différentes sources qui peuvent former un revenu total. “dodge”
est la valeur par défaut.</p></li>
<li><p>show_ci, show_n, show_value et show_lab sont des argument
similaires qui peuvent prendre les valeurs TRUE et FALSE. Les valeur
TRUE permettent de montrer les élements suivants : l’intervalle de
confiance (show_ci), le nombre de personnes dans l’échantillon qui est à
la base de l’estimation (show_value) et les titres et sous-titres du
graphiques, des axes et de la légende (show). Les valeurs FALSE
permettent de ne pas montrer sur le graphique ces différents éléments.
Faute de représentaiton graphique adéquate show_ci n’est pas un argument
de la fonction distrib_group_discrete(). Pour cette fonction, il est pas
possible de représenter les intervalles de confiance sur le graphique,
mais ils sont bien calculé dans la table (tab). C’est aussi le cas pour
many_val_group et ses alias quand position = “stack”, les intervalles de
confiance ne sont pas représentés sur le graphique. Précisons aussi que
dans distrib_group_discrete(), pour des raisons de lisibilité, seuls les
valeurs supérieurs à 2% sont indiquées sur le graphique. Par défaut,
show_ci, show_value_ et show_lab ont la valeur de TRUE et show_n a la
valeur de FALSE, de manière à montrer sur le graphique les intervalles
de confiance, les valeurs des estimations et les noms des axes, mais pas
le nombre d’individus dans l’échantillon. Nous aborderons en détail le
contenu par défaut des labels des axes dans la partie abordant les
labels.</p></li>
<li><p>total_name indique le nom qui doit être mentionné à côté de la
barre du total dans le graphique. Par défaut, il s’agit de “Total”, mais
l’utilisateur peut indiquer autre chose de plus spécifique.</p></li>
<li><p>Pour la fonction esth_graph(), les arguments sont un peu
différents, à l’exception de reorder et show_value. error_low, error_upp
et n_var permettent d’indiquer les colonnes dans tab où se trouvent les
bornes inférieures et supérieures des barres d’erreurs et le nombre de
personnes dans l’échantillon. Par défaut, ces arguments ont une valeur
NULL, ce qui conduit à ne pas montrer ces éléments dans le graphique.
name_total permet d’indiquer le nom du total dans tab de manière à ce
que cette valeur soit mise en évidence (couleur et position) dans le
graphique.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="lesthétique-graphique">L’esthétique graphique<a class="anchor" aria-label="anchor" href="#lesth%C3%A9tique-graphique"></a>
</h3>
<ul>
<li><p>Les couleurs des barres peuvent être indiquées dans les arguments
fill et pal. fill est utilisé pour les graphiques monochrome
(prop_group(), central_group() et ses alias, distrib_discrete() et
esth_graph()). Les couleurs de base de R ou un code couleur hexadécimal.
pal est utilisé pour les graphiques avec plusieurs couleurs. pal doit
reprendre le nom d’une palette des packages MetBrewer, MoMAColors ou
PrettyCols. L’argument direction permet d’inverser le sens de la
palette, en remplaçant le 1, par défaut, par -1 pour avoir le sens
opposé. Pour many_val() et ses alias, pal peut prendre aussi une couleur
unie (couleur de R ou code hexadécimal) si l’utilisateur souhaite un
graphique monochrome. Les couleurs des NA et des totaux, quand ils sont
présents sont toujours gris (grey) et gris foncé (grey40) et ne sont pas
modifiable par les arguments fill ou pal. Par défaut, des couleurs ou
des pallettes de couleurs différentes (EST-CE VRAI POUR TOUTES LES
FONCTIONS MANY?) ont été choisies pour chaque fonctions différente, y
compris les alias, pour éviter la confusion des graphiques.</p></li>
<li><p>dodge indique l’épaisseur des barres et peut aller de 0 (barre
invisible car d’épaisseur nulle) à 1 (barre se touchant car ne laissant
aucun espace entre elles). La valeur par défaut est de 0.9.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="lesthétique-des-chiffres">L’esthétique des chiffres<a class="anchor" aria-label="anchor" href="#lesth%C3%A9tique-des-chiffres"></a>
</h3>
<p>L’esthétique des chiffres concernent la manière dont l’estimation de
l’indicateur est affichée sur le graphique. Ainsi, ces argument n’ont
une utilité que si show_value = TRUE.</p>
<ul>
<li><p>scale est un argument qui n’est utilisé que dans les graphique
exprimant des proportion. Il indique le dénominateur par lequel il faut
interpréter le chiffre. Par défaut, il a une valeur de 100 pour
interpréter les chiffres mentionnés en pourcentage. Par exemple on peut
donner une valeur de 1000 pour interpréter les chiffres en pour mille ou
une valeur de 1 pour interpréter les chiffres comme de simple
proportions.</p></li>
<li><p>digits indique le nombre de décimales qui doivent être affichées
pour les valeurs sur le graphique. Par défaut, digit vaut 0, ce qui
conduit à ne pas afficher de décimale.</p></li>
<li><p>unit indique l’unité à indiquer sur le graphique. Pour
distrib_discrete(), prop_group, many_prop() et many_prop_group(),
l’unité par défaut est “%”. Pour les autres l’argument par défaut prend
une valeur vide, c’est-à-dire une absence d’unité indiquée sur le
graphique. N’importe quel caractère ou chaine de caractère peut être
utilisée : “€”, “m²”, etc.</p></li>
<li><p>dec indique le caractère qui doit être utilisé pour marqué la
décimale dans les chiffes. Cet argument n’est utile que quand digits
&gt; 0. Par défaut, la virgule est utilisée comme c’est le cas dans le
monde francophone.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="lesthétique-des-lettres">L’esthétique des lettres<a class="anchor" aria-label="anchor" href="#lesth%C3%A9tique-des-lettres"></a>
</h3>
<ul>
<li><p>font indique la police qui est utilisée pour l’ensemble du texte
dans le graphique. Actuellement trois polices sont directement incluses
dans le package : Roboto, Montserrat and Gotham Narrow. Pour toutes les
fonctions la police par défaut est Roboto.</p></li>
<li><p>wrap_width_y et wrap_width_leg indique le nombre de caractères
avant d’aller à la ligne, pour respectivement les différent labels de
l’axe des ordonnées et les différents labels de la légende légende. Ces
valeurs sont par défaut de 25 caractères. wrap_width_leg n’est présent
que pour les graphiques ayant une légende : distrib_group_discrete() et
many_val_group et ses alias. Précisons aussi que le _y renvoie à l’axe
des y tel qu’il est situé sur le graphique, après la transformation
coord_flip() qui a lieu dans les fonctions. Ainsi, il s’agit souvent des
groupes, de la variable qualitative pour distrib_discrete() ou de la
liste des variables pour many_val et many_val_group et leurs
alias.</p></li>
<li><p>legend_ncol indique le nombre maximum de colonnes dans la
légende. Par défaut, il y a quatre colonnes maximum. Le nombre de lignes
dans la légende s’ajuste au nombre maximum de colonnes. legend_ncol
n’est aussi présent que pour les graphiques ayant une légende :
distrib_group_discrete() et many_val_group et ses alias.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="les-labels">Les labels<a class="anchor" aria-label="anchor" href="#les-labels"></a>
</h3>
<p>Les arguments de label ne sont utilisés que si show_lab = TRUE. Si
show_lab = FALSE, aucun des labels ci-dessous n’est indiqué.</p>
<ul>
<li><p>title, subtitle, xlab, ylab, legend_lab et caption indiquent les
textes à reprendre comme titre du graphique, sous-titre du graphique,
titre de l’axe des abscisses, titre de l’axe des ordonnées, titre de la
légende et de <em>caption</em> (la petite légende en bas à droite du
graphique). Précisons que xlab et ylab font référence aux axes tels
qu’ils sont situés sur le graphique, c’est-à-dire après la
transformation coord_flip() qui a lieu dans les fonctions. legend_lab
n’est présent que pour les graphiques ayant une légende :
distrib_group_discrete() et many_val_group et ses alias. Le caption
étant souvent déjà utilisé pour indiquer la p valeur du test
statistique, l’utilisation de l’argument caption permet d’ajouter un
texte en dessous de la mention de p valeur du test statistique.</p></li>
<li><p>Il est possible de ne pas indiquer de texte explicite pour les
arguments de label tout en indiquant show_lab = TRUE. Dans ce cas, il
n’y a pas de titre, pas de sous-titre et pas de caption (autre que la p
valeur du test statistique), mais il y a un xlab, un ylab et, pour les
graphiques avec légende, un legend_lab. Chacun de ces texte reprend les
noms de la variable ou de l’expression qui est, pour xlab, précédé d’une
précision : “Moyenne : …”, “Distribution : …”</p></li>
<li><p>Il est possible d’indiquer certains label et d’autre non, par
exemple si l’on souhaite un titre mais pas de sous-titre. Il suffit
d’indiquer show_lab = TRUE et de ne compléter que les arguments de
labels que l’on souhaite voir écrits sur le graphique. Cependant, pour
xlab, ylab et legend_lab, cette manière de procéder ne fonctionne pas
car en l’absence de texte explicite (et avec show_lab = TRUE), le label
automatique sera écrit sur le graphique. Si l’on souhaite ne pas avoir
au moins un de ces labels mais en avoir d’autres, il faut alors
indiquer, respectivement, xlab = ““, ylab =”” ou legend_lab = ““.
L’utilisation de xlab = NULL, ylab = NULL ou legend_lab = NULL conduira
à l’écriture du texte automatique.</p></li>
<li><p>Comme argument de label, on peut aussi mentionner l’argument
lists_vars_lab que l’on a déjà expliqué plus haut et qui peut être aussi
considéré comme un label. Cependant, par rapport aux autres labels, cet
argument a aussi une influence sur la table produite (tab) car ce sont
les labels de variables qui seront repris dans le tableau, alors ques
les autres labels, comme tous les arguments esthétiques n’influencent
que le graphique et non le tableau.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="lexport-au-format-xlsx">L’export au format xlsx<a class="anchor" aria-label="anchor" href="#lexport-au-format-xlsx"></a>
</h2>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joel Gires, Francois Ghesquiere.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
